一、
1、要编写正确的并发程序，关键问题在于：在访问共享的可变状态时需要进行正确的管理。
2、为保证线程安全性，“先检查后执行”（例如延迟初始化）和“读取-修改-写入”（例如递增操作）等操作必须是原子的。

二、可见性
1、在没有同步的情况下，编译器、处理器以及运行时等都可能对操作的执行顺序进行一些意想不到的调整。在缺乏足够同步
的多线程程序中，要相对内存操作的执行顺序进行判断，几乎无法得出正确的结论。
2、内置锁可以用于确保某个线程以一种可预测的方式来查看另一个线程的执行结果。当线程A执行某个同步代码快时，线程B随后进入由供一个锁保护的同步代码块，
在这种情况下可以保证，在锁被释放之前，A看到的变量值在B获得锁后同样可以由B看到。换句话说，当线程B执行由锁保护的同步代码块时，可以看到线程A之前在
同一个代码块中的所有操作结果。如果没有同步，那么就无法实现上述保证。
